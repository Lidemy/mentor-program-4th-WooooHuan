## 什麼是 MVC？

- 是軟體工程中的一種軟體架構模式

- 可使程式的修改和擴充簡化

- 讓部分程式內容得以重複利用

- Model View Controller

    - 模型（Model） 
    
        - 用於封裝與應用程式的業務邏輯相關的資料以及對資料的處理方法
        
        - 有對資料直接存取的權力，例如對資料庫的存取。
        
        - 不依賴「View」和「Controller」，也就是說， Model 不關心它會被如何顯示或是如何被操作。

    - 視圖（View）

        - 負責顯示
        
        - 在 View 中一般沒有程式上的邏輯
        
        - View 需要存取它監視的資料模型（Model），因此應該事先在被它監視的資料那裡註冊。

    - 控制器（Controller）

        - 負責不同層面間的組織

        - 用於控制應用程式的流程
        
        - 處理事件並作出回應

        <br>

> Source：https://zh.wikipedia.org/wiki/MVC

<br>

---

## 請寫下這週部署的心得

- 檔案上傳

    - 需要在 VM 建置 node 環境

    - 首次運行時，要記得將 sequelize 與資料庫作連結

    - 配合使用 pm2, 讓 express 能夠在背景運行

    - 其餘流程大多與 week-14 相同

- nginx

    - 啟用 nginx 的過程不是很順利，查詢 status 一直處在 failed
    
    - 跑去爬文才知道 port 80 可能正被占用中，要將 port 80 淨空才能順利啟用 nginx

    - 停掉 apache 再重啟一次， nginx 就能順利啟用了

    - 部署過程與 week-14 相比，流暢很多，有感受到自己的進步

    - 設置 ufw 時踩了大坑。在防火牆啟用後，沒將 ssh 的訪問權限一併開啟
    
    - 最終導致下次使用 ssh 訪問時權限不足，把自己關在牆外 (笑死

    - 以後啟用防火牆時會特別注意，避免這種很烙賽的情況再次上演

    <br>

---


## 寫 Node.js 的後端跟之前寫 PHP 差滿多的，有什麼心得嗎？

<br>

### 在最初的開發環境中，將前端內容與 express 放在不同網域之下，藉此逃避使用 nginx

- 開發到身分驗證階段，需要運用 session 相關功能時，才發現踩到跨域問題的大坑

- 想說都快做完了，只好硬著頭皮繼續，靠著越加越多的插件，解決了許多跨域互訪的問題

- 最終仍然卡在跨域夾帶 cookie 實在不是那麼簡單，瀏覽器對於隱私權的相關規範十分龜毛

- 卡了好幾小時認賠殺出，老實地將插件清乾淨，重新設計遇到問題的部分

- 瞭解到了逃避使用 nginx 不但可恥還沒什麼效果

<br>

### 由於不是很喜歡之前的 php 混搭 html 作法，在本週看到 ejs 時心都涼了

- 總之不是很喜歡仰賴後端拼湊 html 的作法，決定要來搞點事情

- 最後決定用 API 形式實作前後端溝通，前端負責用 ajax 操作 dom, 後端負責出 json 資訊

- 實做起來沒想像中容易，還是踢了不少鐵板

- 開始覺得由後端拼湊 html 好像也不是什麼壞事

- 最後還是有把持住，用了原先規畫好的方式做完，自己還是比較喜歡前後端分離的做法

<br>

### 逐漸熟悉非同步處理

- 經過前幾週洗禮，對非同步處理的敏銳度明顯進步了

- 拜 express 所賜，對 promise 的運作機制更熟悉了

- 已能直覺使用 async, await 來減少 call back 地獄的出現機會

- 發現比起後端，還是更喜歡前端的相關內容，看得到，比較酷。
